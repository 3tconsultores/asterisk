;-----------------------------------------------------------------------
; CEMIDA CENTRAL TELEFONICA VOIP ASTERISK
; Archivo        : /etc/asterisk/extensions.conf
; Version        : 1.0
; Fecha          : 7/7/7
; Autor          : TRES 3T CONSULTORES C.A. - RIF J-296433054
; Codigo Tecnico : N/A
;-----------------------------------------------------------------------

[general]
static=yes
writeprotect=no
clearglobalvars=no

[globals]
Programacion.Control-1=Zap/1
Asesores.VP1LF03-2=Zap/2
Sala.De.Instrucciones-3=Zap/3
Jefe.CEMIDA-4=Zap/4
Atencion.Comunitaria-5=Zap/5
Jefe.Personal-6=Zap/6
Puesto.De.Guardia-7=Zap/7
Sec.Esc.Comunicaciones-8=Zap/8
Jefe.Operaciones-9=Zap/9
Compras.Locales-10=Zap/10
Control.De.Calidad-11=Zap/11
Secretaria.Finanzas-12=Zap/12
Jefe.CEMIDA-14=Zap/14
Telematica-15=Zap/15
Jefatura.De.Abastecimiento-16=Zap/16
Jefe.Esc.Mant.Elec-17=Zap/17
Abastecimiento-18=Zap/18
Jef.Adiest.Trab-20=Zap/20
Inteligencia-22=Zap/22
Jefatura.Esc.Electromecanica-23=Zap/23
Jefe.Esc.Comunicaciones-24=Zap/24

[cemida]

;-----------------------------------------------------
; LLAMADAS INTERNAS CEMIDA VOIP - TELEFONOS DEL PISO 1
;-----------------------------------------------------
exten => 2497,1,Dial(SIP/Abastecimiento)		 
exten => 2497,n,Answer					
exten => 2497,n,Hangup()				 
exten => 2604,1,Dial(SIP/Secretaria.Jefatura.Abastecimiento)		 
exten => 2604,n,Answer					
exten => 2604,n,Hangup()				 
exten => 2691,1,Dial(SIP/Jefatura.De.Abastecimiento)	 
exten => 2691,n,Answer					
exten => 2691,n,Hangup()				 
exten => 2600,1,Dial(SIP/Taller.De.Electricidad)	 
exten => 2600,n,Answer					
exten => 2600,n,Hangup()				 
exten => 2602,1,Dial(SIP/Mesa.De.Parte)			 
exten => 2602,n,Answer					
exten => 2602,n,Hangup()				 
exten => 2747,1,Dial(SIP/Puesto.De.Guardia)		 
exten => 2747,n,Answer					
exten => 2747,n,Hangup()				 
exten => 2595,1,Dial(SIP/Dormitorio.VPBLF10)		 
exten => 2595,n,Answer					
exten => 2595,n,Hangup()				 
exten => 2720,1,Dial(SIP/Control.De.Calidad)		 
exten => 2720,n,Answer					
exten => 2720,n,Hangup()				 
exten => 2596,1,Dial(SIP/Sec.Esc.Electromecanica)		 
exten => 2596,n,Answer					
exten => 2596,n,Hangup()				 
exten => 2311,1,Dial(SIP/Jefatura.Esc.Electromecanica)		 
exten => 2311,n,Answer					
exten => 2311,n,Hangup()				 
exten => 2598,1,Dial(SIP/Transporte)			 
exten => 2598,n,Answer					
exten => 2598,n,Hangup()				 
exten => 2599,1,Dial(SIP/Servicios.Generales)		 
exten => 2599,n,Answer					
exten => 2599,n,Hangup()				 
exten => 2593,1,Dial(SIP/Taller.De.Mecanica)		 
exten => 2593,n,Answer					
exten => 2593,n,Hangup()				 
exten => 2594,1,Dial(SIP/Taller.De.Pintura)		 
exten => 2594,n,Answer					
exten => 2594,n,Hangup()				 
exten => 2597,1,Dial(SIP/Servidores)			 
exten => 2597,n,Answer					
exten => 2597,n,Hangup()				 
;-----------------------------------------------------
; LLAMADAS INTERNAS CEMIDA VOIP - TELEFONOS DEL PISO 2
;-----------------------------------------------------
exten => 2578,1,Dial(SIP/Laboratorio.De.Electronica)	 
exten => 2578,n,Answer					
exten => 2578,n,Hangup()				 
exten => 2571,1,Dial(SIP/Asesores.VP1LF03)		 
exten => 2571,n,Answer					
exten => 2571,n,Hangup()				 
exten => 2349,1,Dial(SIP/Sala.De.Instrucciones)		 
exten => 2349,n,Answer					
exten => 2349,n,Hangup()				 
exten => 2334,1,Dial(SIP/Jefe.Esc.Mant.Elec)		 
exten => 2334,n,Answer					
exten => 2334,n,Hangup()				 
exten => 2577,1,Dial(SIP/Sec.Esc.Mant.Elec)		 
exten => 2577,n,Answer					
exten => 2577,n,Hangup()				 
exten => 2369,1,Dial(SIP/Sec.Esc.Comunicaciones)	 
exten => 2369,n,Answer					
exten => 2369,n,Hangup()				 
exten => 2490,1,Dial(SIP/Jefe.Esc.Comunicaciones)	 
exten => 2490,n,Answer					
exten => 2490,n,Hangup()				 
exten => 2575,1,Dial(SIP/Asesores.VP1LF011)		 
exten => 2575,n,Answer					
exten => 2575,n,Hangup()				 
exten => 2572,1,Dial(SIP/Equipos.De.Mediciones)		 
exten => 2572,n,Answer					
exten => 2572,n,Hangup()				 
exten => 2305,1,Dial(SIP/Telematica)		         
exten => 2305,n,Answer					
exten => 2305,n,Hangup()				 
exten => 2574,1,Dial(SIP/Deposito.De.Herramientas)	 
exten => 2574,n,Answer					
exten => 2574,n,Hangup()				 
exten => 2570,1,Dial(SIP/Taller.De.Comunicaciones)	 
exten => 2570,n,Answer					
exten => 2570,n,Hangup()				 
;-----------------------------------------------------
; LLAMADAS INTERNAS CEMIDA VOIP - TELEFONOS DEL PISO 3
;-----------------------------------------------------
exten => 2761,1,Dial(SIP/Inteligencia)			 
exten => 2761,n,Answer				
exten => 2761,n,Hangup()				 
exten => 2588,1,Dial(SIP/Contrainteligencia)		 
exten => 2588,n,Answer				
exten => 2588,n,Hangup()				 
exten => 2589,1,Dial(SIP/Bienes.Muebles)		 
exten => 2589,n,Answer				
exten => 2589,n,Hangup()				 
exten => 2865,1,Dial(SIP/Compras.Locales)		 
exten => 2865,n,Answer				
exten => 2865,n,Hangup()				 
exten => 2590,1,Dial(SIP/Habilitaduria)			 
exten => 2590,n,Answer				
exten => 2590,n,Hangup()			    	   
exten => 2591,1,Dial(SIP/Contable)			 
exten => 2591,n,Answer				
exten => 2591,n,Hangup()			   	  
exten => 2205,1,Dial(SIP/Secretaria.Finanzas)		 
exten => 2205,n,Answer				
exten => 2205,n,Hangup()			     	  
exten => 2592,1,Dial(SIP/Administrador)			 
exten => 2592,n,Answer				
exten => 2592,n,Hangup()			    	  
exten => 2581,1,Dial(SIP/Relaciones.Publicas)		 
exten => 2581,n,Answer				
exten => 2581,n,Hangup()			   	    
exten => 2324,1,Dial(SIP/Atencion.Comunitaria)		 
exten => 2324,n,Answer				
exten => 2324,n,Hangup()			   	    
exten => 2582,1,Dial(SIP/Sec.Jef.Personal)		 
exten => 2582,n,Answer				
exten => 2582,n,Hangup()
exten => 2361,1,Dial(SIP/Jefe.Personal)		 
exten => 2361,n,Answer				
exten => 2361,n,Hangup()			     	  
exten => 2583,1,Dial(SIP/Sec.Operaciones)		 
exten => 2583,n,Answer				
exten => 2583,n,Hangup()			    	  
exten => 2742,1,Dial(SIP/Jefe.Operaciones)
exten => 2742,n,Answer				
exten => 2742,n,Hangup()			    	   
exten => 2781,1,Dial(SIP/Sec.Jef.CEMIDA)		 
exten => 2781,n,Answer				
exten => 2781,n,Hangup()			     	  
exten => 2348,1,Dial(SIP/Jefe.CEMIDA)			 
exten => 2348,n,Answer				
exten => 2348,n,Hangup()				 
exten => 2367,1,Dial(SIP/Jef.Adiest.Trab)	 
exten => 2367,n,Answer				
exten => 2367,n,Hangup()			    	  
exten => 2584,1,Dial(SIP/Sec.Adiest.Trab) 
exten => 2584,n,Answer				
exten => 2584,n,Hangup()			     	 
exten => 2585,1,Dial(SIP/Control.Produccion)		 
exten => 2585,n,Answer				
exten => 2585,n,Hangup()			    	  
exten => 2751,1,Dial(SIP/Programacion.Control)		 
exten => 2751,n,Answer				
exten => 2751,n,Hangup()			    	  
exten => 2586,1,Dial(SIP/Investigacion.Desarrollo)	 
exten => 2586,n,Answer				
exten => 2586,n,Hangup()			   	  
exten => 2370,1,Dial(SIP/Biblioteca)			 
exten => 2370,n,Answer				
exten => 2370,n,Hangup()			    	  
exten => 2687,1,Dial(SIP/Gimnasio)			 
exten => 2687,n,Answer				
exten => 2687,n,Hangup()			    	  
exten => 2580,1,Dial(SIP/Sala.Reuniones)		 
exten => 2580,n,Answer				
exten => 2580,n,Hangup()				 
exten => 2579,1,Dial(SIP/Dorm.Jefe.CEMIDA)		 
exten => 2579,n,Answer				
exten => 2579,n,Hangup()				 

;--------------------------------------
; LLAMADAS ENTRANTES AL CEMIDA - VOIP :
; PISO 1 - REPICAN EN SIP ESPECIFICOS
;--------------------------------------
exten => s/2497,1,Dial(SIP/Abastecimiento)		 
exten => s/2497,n,Answer					
exten => s/2497,n,Hangup()				 
exten => s/2691,1,Dial(SIP/Jefatura.De.Abastecimiento)	 
exten => s/2691,n,Answer					
exten => s/2691,n,Hangup()				 
exten => s/2747,1,Dial(SIP/Puesto.De.Guardia)		 
exten => s/2747,n,Answer					
exten => s/2747,n,Hangup()				 
exten => s/2720,1,Dial(SIP/Control.De.Calidad)		 
exten => s/2720,n,Answer					
exten => s/2720,n,Hangup()				 
exten => s/2311,1,Dial(SIP/Jefatura.Esc.Electromecanica)		 
exten => s/2311,n,Answer					
exten => s/2311,n,Hangup()				 
;--------------------------------------
; LLAMADAS ENTRANTES AL CEMIDA - VOIP :
; PISO 2 - REPICAN EN SIP ESPECIFICOS
;--------------------------------------
exten => s/2349,1,Dial(SIP/Sala.De.Instrucciones)		 
exten => s/2349,n,Answer					
exten => s/2349,n,Hangup()				 
exten => s/2334,1,Dial(SIP/Jefe.Esc.Mant.Elec)		 
exten => s/2334,n,Answer					
exten => s/2334,n,Hangup()				 
exten => s/2369,1,Dial(SIP/Sec.Esc.Comunicaciones)	 
exten => s/2369,n,Answer					
exten => s/2369,n,Hangup()				 
exten => s/2490,1,Dial(SIP/Jefe.Esc.Comunicaciones)	 
exten => s/2490,n,Answer					
exten => s/2490,n,Hangup()				 
exten => s/2305,1,Dial(SIP/Telematica)		         
exten => s/2305,n,Answer					
exten => s/2305,n,Hangup()				 
;--------------------------------------
; LLAMADAS ENTRANTES AL CEMIDA - VOIP :
; PISO 3 - REPICAN EN SIP ESPECIFICOS
;--------------------------------------
exten => s/2761,1,Dial(SIP/Inteligencia)			 
exten => s/2761,n,Answer				
exten => s/2761,n,Hangup()				 
exten => s/2865,1,Dial(SIP/Compras.Locales)		 
exten => s/2865,n,Answer				
exten => s/2865,n,Hangup()				 
exten => s/2205,1,Dial(SIP/Secretaria.Finanzas)		 
exten => s/2205,n,Answer				
exten => s/2205,n,Hangup()			     	  
exten => s/2324,1,Dial(SIP/Atencion.Comunitaria)		 
exten => s/2324,n,Answer				
exten => s/2324,n,Hangup()			   	    
exten => s/2361,1,Dial(SIP/Jefe.Personal)		 
exten => s/2361,n,Answer				
exten => s/2361,n,Hangup()			     	  
exten => s/2742,1,Dial(SIP/Jefe.Operaciones)
exten => s/2742,n,Answer				
exten => s/2742,n,Hangup()			    	   
exten => s/2348,1,Dial(SIP/Jefe.CEMIDA)			 
exten => s/2348,n,Answer				
exten => s/2348,n,Hangup()				 
exten => s/2367,1,Dial(SIP/Jef.Adiest.Trab)	 
exten => s/2367,n,Answer				
exten => s/2367,n,Hangup()			    	  
exten => s/2751,1,Dial(SIP/Programacion.Control)		 
exten => s/2751,n,Answer				
exten => s/2751,n,Hangup()			    	  

;-----------------------------------
; LLAMADAS ENTRANTES VIA CANTV
; 1.- ATENDIDAS POR OPERADOR VIRTUAL
; 2.- CANALES ZAP 2,4
;-----------------------------------
exten => s/000,1,Answer
exten => s/000,n,Background(cemida-bienvenida-llanera)
exten => s/000,n,WaitExten

;--------------------------------------------------------------------
; LLAMADAS SALIENTES VIA CENTRAL SIEMENS BAEL :
; 1.- PRIMER SEGMENTO DECIDE A CUAL SIP LE CORRESPONDE CUAL CANAL ZAP
;--------------------------------------------------------------------
exten => _9XXXX,1,Set(CANAL=${CUT(CHANNEL,,1)})
exten => _9XXXX,2,Set(EXTENSION=${EXTEN})
exten => _9XXXX,3,GoToIf($["${CANAL}" = "SIP/Programacion.Control"]?cemida-llamadas-salientes,s,2:5)
exten => _9XXXX,5,GoToIf($["${CANAL}" = "SIP/Sala.De.Instrucciones"]?cemida-llamadas-salientes,s,3:6)
exten => _9XXXX,6,GoToIf($["${CANAL}" = "SIP/Atencion.Comunitaria"]?cemida-llamadas-salientes,s,5:7)
exten => _9XXXX,7,GoToIf($["${CANAL}" = "SIP/Jefe.Personal"]?cemida-llamadas-salientes,s,6:8)
exten => _9XXXX,8,GoToIf($["${CANAL}" = "SIP/Puesto.De.Guardia"]?cemida-llamadas-salientes,s,7:9)
exten => _9XXXX,9,GoToIf($["${CANAL}" = "SIP/Sec.Esc.Comunicaciones"]?cemida-llamadas-salientes,s,8:10)
exten => _9XXXX,10,GoToIf($["${CANAL}" = "SIP/Jefe.Operaciones"]?cemida-llamadas-salientes,s,9:11)
exten => _9XXXX,11,GoToIf($["${CANAL}" = "SIP/Compras.Locales"]?cemida-llamadas-salientes,s,10:12)
exten => _9XXXX,12,GoToIf($["${CANAL}" = "SIP/Control.De.Calidad"]?cemida-llamadas-salientes,s,11:14)
exten => _9XXXX,14,GoToIf($["${CANAL}" = "SIP/Secretaria.Finanzas"]?cemida-llamadas-salientes,s,12:15)
exten => _9XXXX,15,GoToIf($["${CANAL}" = "SIP/Jefe.CEMIDA"]?cemida-llamadas-salientes,s,14:16)
exten => _9XXXX,16,GoToIf($["${CANAL}" = "SIP/Telematica"]?cemida-llamadas-salientes,s,15:17)
exten => _9XXXX,17,GoToIf($["${CANAL}" = "SIP/Jefatura.De.Abastecimiento"]?cemida-llamadas-salientes,s,16:18)
exten => _9XXXX,18,GoToIf($["${CANAL}" = "SIP/Jefe.Esc.Mant.Elec"]?cemida-llamadas-salientes,s,17:20)
exten => _9XXXX,20,GoToIf($["${CANAL}" = "SIP/Abastecimiento"]?cemida-llamadas-salientes,s,18:22)
exten => _9XXXX,22,GoToIf($["${CANAL}" = "SIP/Jef.Adiest.Trab"]?cemida-llamadas-salientes,s,20:23)
exten => _9XXXX,23,GoToIf($["${CANAL}" = "SIP/Inteligencia"]?cemida-llamadas-salientes,s,22:24)
exten => _9XXXX,24,GoToIf($["${CANAL}" = "SIP/Jefatura.Esc.Electromecanica"]?cemida-llamadas-salientes,s,22:25)
exten => _9XXXX,25,GoToIf($["${CANAL}" = "SIP/Jefe.Esc.Comunicaciones"]?cemida-llamadas-salientes,s,24:50)

;--------------------------------------------------------------
; LLAMADAS SALIENTES A CENTRAL SIEMENS BAEL VIA POOL COMPARTIDO
; 1.- CANALES ZAP 13,19,21
;--------------------------------------------------------------
exten => _9XXXX,50,Dial(Zap/G2/${EXTENSION:1})
exten => _9XXXX,51,HangUp()

;-------------------------------
; LLAMADAS ENTRANTES AL CEMIDA :
; 1.- POOL COMPARTIDO ENTRANTE  
; 2.- CANALES ZAP 13,19,21
;-------------------------------
exten => s/111,1,Answer
exten => s/111,n,Background(cemida-bienvenida-llanera)
exten => s/111,n,WaitExten

;------------------------------------------------------------------------------
; LLAMADAS SALIENTES VIA CANTV
;------------------------------------------------------------------------------
exten => _0X.,1,Set(CANAL=${CUT(CHANNEL,,1)})
exten => _0X.,2,Set(EXTENSION=${EXTEN})
exten => _0X.,3,GoToIf($["${CANAL}" = "SIP/Jefe.CEMIDA"]?cemida-llamadas-salientes,s,4:4)
exten => _0X.,4,GoToIf($["${CANAL}" = "SIP/Asesores.VP1LF03"]?cemida-llamadas-salientes,s,25:5)
exten => _0X.,5,Hangup()

;-------------------------------------------------------------------------------------------
; LLAMADAS SALIENTES VIA CENTRAL SIEMENS BAEL :
; 1.- SEGUNDO SEGMENTO DISCA EL CANAL ZAP QUE LE CORRESPONDE AL SIP SEGUN EL PRIMER SEGMENTO
; 2.- LLAMA A LA MACRO UNIVERSAL DE DISCADO
;-------------------------------------------------------------------------------------------
[cemida-llamadas-salientes]
exten => s,2,Macro(cemida-zapdial,${Programacion.Control-1},${EXTENSION:1})
exten => s,3,Macro(cemida-zapdial,${Sala.De.Instrucciones-3},${EXTENSION:1})
exten => s,4,Macro(cemida-zapdial,${Jefe.CEMIDA-4},${EXTENSION:1})
exten => s,5,Macro(cemida-zapdial,${Atencion.Comunitaria-5},${EXTENSION:1})
exten => s,6,Macro(cemida-zapdial,${Jefe.Personal-6},${EXTENSION:1})
exten => s,7,Macro(cemida-zapdial,${Puesto.De.Guardia-7},${EXTENSION:1})
exten => s,8,Macro(cemida-zapdial,${Sec.Esc.Comunicaciones-8},${EXTENSION:1})
exten => s,9,Macro(cemida-zapdial,${Jefe.Operaciones-9},${EXTENSION:1})
exten => s,10,Macro(cemida-zapdial,${Compras.Locales-10},${EXTENSION:1})
exten => s,11,Macro(cemida-zapdial,${Control.De.Calidad-11},${EXTENSION:1})
exten => s,12,Macro(cemida-zapdial,${Secretaria.Finanzas-12},${EXTENSION:1})
exten => s,14,Macro(cemida-zapdial,${Jefe.CEMIDA-14},${EXTENSION:1})
exten => s,15,Macro(cemida-zapdial,${Telematica-15},${EXTENSION:1})
exten => s,16,Macro(cemida-zapdial,${Jefatura.De.Abastecimiento-16},${EXTENSION:1})
exten => s,17,Macro(cemida-zapdial,${Jefe.Esc.Mant.Elec-17},${EXTENSION:1})
exten => s,18,Macro(cemida-zapdial,${Abastecimiento-18},${EXTENSION:1})
exten => s,20,Macro(cemida-zapdial,${Jef.Adiest.Trab-20},${EXTENSION:1})
exten => s,22,Macro(cemida-zapdial,${Inteligencia-22},${EXTENSION:1})
exten => s,23,Macro(cemida-zapdial,${Jefatura.Esc.Electromecanica-23},${EXTENSION:1})
exten => s,24,Macro(cemida-zapdial,${Jefe.Esc.Comunicaciones-24},${EXTENSION:1})
exten => s,25,Macro(cemida-zapdial,${Asesores.VP1LF03-2},${EXTENSION:1})

;-------------------------------------------------------
; MACRO UNIVERSAL DE DISCADO PARA LAS LLAMADAS SALIENTES
;-------------------------------------------------------
[macro-cemida-zapdial]
exten => s,1,NoOp( ARG1-CANAL=${ARG1} ARG2-EXTEN=${ARG2} )
exten => s,2,Dial(${ARG1}/${ARG2})  
exten => s,3,Hangup()          

;------------------------------------------------------------------------------
; LLAMADAS SALIENTES VIA DIRECTA BAEL MODULO E1
;------------------------------------------------------------------------------

